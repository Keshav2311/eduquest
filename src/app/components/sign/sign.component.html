<section class="vh-100">
  <div class="container">
    <h1>Sign Up</h1>
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-md-6 col-lg-6 col-xl-6 col-12">
        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
          <!-- Page 1: Basic Info -->
          <div *ngIf="step === 1">
            <div formGroupName="page1">
              <div class="mb-3">
                <label for="name" class="form-label">Name*</label>
                <input
                  type="text"
                  id="name"
                  class="form-control"
                  formControlName="name"
                  placeholder="Enter your name"
                />
                <small
                  *ngIf="
                    signupForm.get('page1.name')?.touched &&
                    signupForm.get('page1.name')?.invalid
                  "
                  class="text-danger"
                >
                  Name is required and must be at least 2 characters long.
                </small>
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email*</label>
                <input
                  type="email"
                  id="email"
                  class="form-control"
                  formControlName="email"
                  placeholder="Enter your email"
                />
                <small
                  *ngIf="
                    signupForm.get('page1.email')?.touched &&
                    signupForm.get('page1.email')?.invalid
                  "
                  class="text-danger"
                >
                  Enter a valid email address.
                </small>
              </div>
              <div class="mb-3">
                <label class="form-label">Gender*</label>
                <div>
                  <input type="radio" formControlName="gender" value="male" />
                  Male
                  <input type="radio" formControlName="gender" value="female" />
                  Female
                  
                </div>
                <small
                  *ngIf="
                    signupForm.get('page1.gender')?.touched &&
                    signupForm.get('page1.gender')?.invalid
                  "
                  class="text-danger"
                >
                  Select your gender.
                </small>
              </div>
            </div>
          </div>

          <div *ngIf="step === 2">
            <div formGroupName="page2">
              <div class="mb-3">
                <label class="form-label">Role*</label>
                <div>
                  <input type="radio" formControlName="role" value="student" />
                  Student
                  <input
                    type="radio"
                    formControlName="role"
                    value="instructor"
                  />
                  Instructor
                </div>
                <small
                  *ngIf="
                    signupForm.get('page1.role')?.touched &&
                    signupForm.get('page1.role')?.invalid
                  "
                  class="text-danger"
                >
                  Select your role.
                </small>
              </div>
              <div class="mb-3">
                <label for="experience" class="form-label">
                  {{ signupForm.get('page2.role')?.value === 'instructor' ? 'Years of Experience*' : 'Learner Since*' }}
                </label>
                
                <input
                  type="number"
                  id="experience"
                  class="form-control"
                  formControlName="experience"
                  placeholder="{{ signupForm.get('page2.role')?.value === 'instructor' ? 'Enter years of experience (Max: 12)' : 'Enter the year you started learning' }}"
                />
              
                <small
                  *ngIf="
                    signupForm.get('page2.experience')?.touched &&
                    signupForm.get('page2.experience')?.invalid
                  "
                  class="text-danger"
                >
                  {{ signupForm.get('page2.role')?.value === 'instructor' ? 'Enter a valid number between 0 and 12.' : 'Enter a valid year.' }}
                </small>
              </div>
              
            </div>
          </div>

          <!-- Page 3: Password -->
          <div *ngIf="step === 3">
            <div formGroupName="page3">
              <div class="mb-3">
                <label for="password" class="form-label">Password*</label>
                <input
                  type="password"
                  id="password"
                  class="form-control"
                  formControlName="password"
                  placeholder="Create a password"
                />
                
                <small
                  *ngIf="
                    signupForm.get('page3.password')?.touched &&
                    signupForm.get('page3.password')?.invalid
                  "
                  class="text-danger"
                >
                  Password must be at least 8 characters, include a number, a
                  special character, and an uppercase letter.
                </small>
              </div>
              <div class="mb-3">
                <label for="confirmPassword" class="form-label"
                  >Confirm Password*</label
                >
                <input
                  type="password"
                  id="confirmPassword"
                  class="form-control"
                  formControlName="confirmPassword"
                  placeholder="Re-enter your password"
                />
              </div>
            </div>
          </div>

          <!-- Navigation Buttons -->
          <div class="d-flex justify-content-between">
            <button
              type="button"
              class="btn btn-secondary"
              *ngIf="step > 1"
              (click)="previousStep()"
            >
              Previous
            </button>
            <button
              type="button"
              class="btn btn-primary"
              *ngIf="step < 3"
              (click)="nextStep()"
              [disabled]="!isCurrentPageValid()"
            >
              Next
            </button>
            <button type="submit" class="btn btn-success" *ngIf="step === 3">
              Submit
            </button>
          </div>
          
        </form>
      </div>
      <div class="col-md-6 col-lg-6 col-xl-6 col-12 mb-5" id="dissbox">
        <img
          src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp"
          class="img-fluid"
          alt="Login Image"
        />
      </div>
    </div>
  </div>
</section>
